function Conferencias(){this.vlAtual=null;this.DataTable=null}function AbrirJanelaVisualizarConferencia(){abrirJanelaConferencia("ListaConferencia.aspx")}function AbrirVisualizarConferencia(){sb=new StringBuilder;sb.append('<table width="780" border="0" cellspacing="0" cellpadding="0" style="background-color: #F1F1F1">');sb.append("<tr>");sb.append('<td height="64px" align="center" valign="center" class="tituloPagina" rowspan="3" >');sb.append("Conferências");sb.append("<br/>");sb.append("<\/td>");sb.append('<td align="center" valign="top" class="tituloCampo" colspan="4" height="16px">');sb.append("<u>F &nbsp;i &nbsp;l &nbsp;t &nbsp;r &nbsp;o &nbsp;s<\/u>");sb.append("<\/td>");sb.append("<\/tr>");sb.append("<tr>");sb.append('<td align="right" valign="center" class="tituloCampo" height="21px">');sb.append("Nome:");sb.append("<\/td>");sb.append('<td align="left" valign="center">');sb.append('<input type="text" id="txtBuscaConferenciasNome" size="30" class="boxPesquisa"/>');sb.append("<\/td>");sb.append('<td align="right" valign="center" class="tituloCampo">');sb.append("Descrição:");sb.append("<\/td>");sb.append('<td align="left" valign="center">');sb.append('<input type="text" id="txtBuscaConferenciasDescricao" class="boxPesquisa" size="40" />');sb.append("<\/td>");sb.append("<\/tr>");sb.append("<tr>");sb.append('<td align="right" valign="center" class="tituloCampo" height="22px">');sb.append("Início:");sb.append("<\/td>");sb.append('<td align="left" valign="center">');sb.append('<input type="text" id="txtBuscaConferenciasInicioCalendario" class="boxPesquisa" size="10" />');sb.append("<\/td>");sb.append('<td align="right" valign="center" class="tituloCampo">');sb.append("Status:");sb.append("<\/td>");sb.append('<td align="left" valign="center">');sb.append('<select id="selectBuscaConferenciasStatus" class="comboboxPesquisa" onchange="filtraVisualizarConferencia(\'\')">');sb.append('<option value="">Todos<\/option>');sb.append('<option value="0">Não iniciada<\/option>');sb.append('<option value="1">Iniciada<\/option>');sb.append('<option value="2">Arquivo<\/option>');sb.append("<\/select>");sb.append("<\/td>");sb.append("<\/tr>");sb.append("<\/table>");sb.append('<div id="dvListaConferencias"><\/div>');$("dvVisualizarConferencia").innerHTML=sb.toString();OlhaCampoNome=new olhaCampo($("txtBuscaConferenciasNome"),filtraVisualizarConferencia,"OlhaCampoNome");OlhaCampoDescricao=new olhaCampo($("txtBuscaConferenciasDescricao"),filtraVisualizarConferencia,"OlhaCampoDescricao");OlhaCampoInicio=new olhaCampo($("txtBuscaConferenciasInicioCalendario"),filtraVisualizarConferencia,"OlhaCampoInicio");conferencias.DataTable=verificaSessao(WCAjax.GetConferenciaPorUsuario());RenderVisualizarConferencia()}function filtraVisualizarConferencia(){conferencias.DataTable.unfilter(!0);$("txtBuscaConferenciasNome").value!=""&&conferencias.DataTable.filter("Nome",$("txtBuscaConferenciasNome").value,filterMode.contains,caseType.CIAS);$("txtBuscaConferenciasDescricao").value!=""&&conferencias.DataTable.filter("Descricao",$("txtBuscaConferenciasDescricao").value,filterMode.contains,caseType.CIAS);$("txtBuscaConferenciasInicioCalendario").value!=""&&conferencias.DataTable.filter("DataHoraInicio",$("txtBuscaConferenciasInicioCalendario").value,filterMode.contains,caseType.CIAS);$("selectBuscaConferenciasStatus").options[$("selectBuscaConferenciasStatus").selectedIndex].value!=""&&conferencias.DataTable.filter("Status",$("selectBuscaConferenciasStatus").options[$("selectBuscaConferenciasStatus").selectedIndex].value,filterMode.contains,caseType.CIAS);RenderVisualizarConferencia()}function RenderVisualizarConferencia(){var u=0,f=0,t=conferencias.DataTable,i="",n,r;if(sbAoVivo=new StringBuilder,sbArquivo=new StringBuilder,sbAoVivo.append('<table  width="780" border="0" cellspacing="0" cellpadding="0" >'),sbArquivo.append('<table  width="780" border="0" cellspacing="0" cellpadding="0" >'),t!=null)for(n=0;n<t.rows.length;n++){switch(t.rows[n].Status){case statusConferenciaWeb.NaoIniciada:i="Não Iniciada";break;case statusConferenciaWeb.Iniciada:i="Iniciada";break;case statusConferenciaWeb.Arquivo:i="Arquivo"}r=t.rows[n].Ativa?"":" <span style='color:#FF0000'>(Inativa)<\/span>";t.rows[n].Status==statusConferenciaWeb.NaoIniciada||t.rows[n].Status==statusConferenciaWeb.Iniciada?(u++,sbAoVivo.append('<tr class="tblListaTr" onMouseover="this.className = \'tblListaTrFoco\'" onMouseout="this.className = \'tblListaTr\'" style="cursor:default;">'),sbAoVivo.append(" <td>"),sbAoVivo.append('<table width="780" border="0" cellspacing="2" cellpadding="2"><tr>'),sbAoVivo.append('<td style="width:250px" class="tblListaPontaMeio" align="left"><b><u>'+t.rows[n].Nome+"<\/u>"+r+"<\/b><\/td>"),sbAoVivo.append('<td style="width:260px" class="tblListaPontaMeio" align="center" ><b>'+t.rows[n].DataHoraInicio.toString("dd/MM/yyyy")+"&nbsp;&nbsp;"+t.rows[n].DataHoraInicio.toString("HH:mm")+"<\/b>"),sbAoVivo.append("&nbsp;&nbsp; até &nbsp;&nbsp;"),sbAoVivo.append("<b>"+t.rows[n].DataHoraFim.toString("dd/MM/yyyy")+"&nbsp;&nbsp;"+t.rows[n].DataHoraFim.toString("HH:mm")+"<\/b><\/td>"),sbAoVivo.append("<\/tr>"),sbAoVivo.append("<tr>"),sbAoVivo.append('<td style="width:510px" class="tblListaPontaMeio" align="left" colspan="2" rowspan="2"> &nbsp;&nbsp;&nbsp;'+t.rows[n].Descricao+"<\/td>"),sbAoVivo.append('<td class="tblListaPontaMeio" align="right" valign="top">'),sbAoVivo.append('&nbsp;&nbsp;<img style="cursor:pointer;" src="images/webcam_icon.gif" border="0" onclick="visualizarConferenciaAssistir('+t.rows[n].Codigo+')" alt="Assistir transmissão ao vivo" />'),sbAoVivo.append("<\/td>"),sbAoVivo.append("<\/tr>"),sbAoVivo.append("<tr>"),sbAoVivo.append('<td class="tblListaPontaMeio" valign=bottom"" align="right"><b>'+i+"<\/b><\/td>"),sbAoVivo.append("<\/tr>"),sbAoVivo.append("<\/table>"),sbAoVivo.append(" <\/td>"),sbAoVivo.append("<\/tr>"),sbAoVivo.append("<tr>"),sbAoVivo.append('<td class="tblListaDivOpt"><\/td>'),sbAoVivo.append("<\/tr>")):(f++,sbArquivo.append('<tr class="tblListaTr" onMouseover="this.className = \'tblListaTrFoco\'" onMouseout="this.className = \'tblListaTr\'" style="cursor:default;">'),sbArquivo.append(" <td>"),sbArquivo.append('<table width="780" border="0" cellspacing="2" cellpadding="2"><tr>'),sbArquivo.append('<td style="width:250px" class="tblListaPontaMeio" align="left"><b><u>'+t.rows[n].Nome+"<\/u>"+r+"<\/b><\/td>"),sbArquivo.append('<td style="width:260px" class="tblListaPontaMeio" align="center" ><b>'+t.rows[n].DataHoraInicio.toString("dd/MM/yyyy")+"&nbsp;&nbsp;"+t.rows[n].DataHoraInicio.toString("HH:mm")+"<\/b>"),sbArquivo.append("&nbsp;&nbsp; até &nbsp;&nbsp;"),sbArquivo.append("<b>"+t.rows[n].DataHoraFim.toString("dd/MM/yyyy")+"&nbsp;&nbsp;"+t.rows[n].DataHoraFim.toString("HH:mm")+"<\/b><\/td>"),sbArquivo.append("<\/tr>"),sbArquivo.append("<tr>"),sbArquivo.append('<td style="width:510px" class="tblListaPontaMeio" align="left" colspan="2" rowspan="2"> &nbsp;&nbsp;&nbsp;'+t.rows[n].Descricao+"<\/td>"),sbArquivo.append('<td class="tblListaPontaMeio" align="right" valign="top">'),sbArquivo.append('&nbsp;&nbsp;<img style="cursor:pointer;" src="images/tv.gif" border="0" onclick="visualizarConferenciaAssistir('+t.rows[n].Codigo+')" alt="Assistir transmissão ao vivo" />'),sbArquivo.append("<\/td>"),sbArquivo.append("<\/tr>"),sbArquivo.append("<tr>"),sbArquivo.append('<td class="tblListaPontaMeio" valign=bottom"" align="right"><b>'+i+"<\/b><\/td>"),sbArquivo.append("<\/tr>"),sbArquivo.append("<\/table>"),sbArquivo.append(" <\/td>"),sbArquivo.append("<\/tr>"),sbArquivo.append("<tr>"),sbArquivo.append('<td class="tblListaDivOpt"><\/td>'),sbArquivo.append("<\/tr>"))}sbAoVivo.append("<\/table>");sbArquivo.append("<\/table>");sb=new StringBuilder;sb.append('<div class="adminBoxTitCinza" style="margin-bottom:4px;width:775px;">Ao Vivo - '+u+"<\/div>");sb.append(sbAoVivo.toString());sb.append('<br/><div class="adminBoxTitCinza" style="margin-bottom:4px;width:775px;">Arquivo - '+f+"<\/div>");sb.append(sbArquivo.toString());$("dvListaConferencias").innerHTML=sb.toString()}function visualizarConferenciaAssistir(n){var t=screen.width,i=screen.height,r=window.open(pathSite+"WebConference.aspx?webConference="+n,"webConferenceWindow","width="+t+",height="+i+",top=0,left=0,resizable=1,directories=no,location=no,menubar=no,scrollbars=no,status=no,toolbar=no");r.moveTo((screen.width-t)/2,(screen.height-i)/2)}var conferencias=new Conferencias